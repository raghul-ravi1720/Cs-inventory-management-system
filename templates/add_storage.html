<!DOCTYPE html>
<html>
<head>
  <title>{% if storage %}Edit{% else %}Add{% endif %} Storage</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-4">
    <h1>{% if storage %}Edit{% else %}Add New{% endif %} Storage Item</h1>
    <form method="post" class="mt-3">
      <div class="mb-3">
        <label class="form-label">Name</label>
        <input type="text" name="base_name" class="form-control" required value="{{ storage.base_name if storage else '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Spec</label>
        <input type="text" name="defined_name_with_spec" class="form-control" value="{{ storage.defined_name_with_spec if storage else '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Brand</label>
        <input type="text" name="brand" class="form-control" value="{{ storage.brand if storage else '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">HSN Code</label>
        <input type="text" name="hsn_code" class="form-control" value="{{ storage.hsn_code if storage else '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Dealer</label>
        <select name="dealer_id" class="form-select">
          <option value="">Select Dealer</option>
          {% for dealer in dealers %}
            <option value="{{ dealer.id }}" {% if storage and storage.dealer_id == dealer.id %}selected{% endif %}>{{ dealer.name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Tax</label>
        <input type="number" name="tax" class="form-control" step="0.01" value="{{ storage.tax if storage else '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Current Stock</label>
        <input type="number" name="current_stock" class="form-control" step="0.01" value="{{ storage.current_stock if storage else '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Units</label>
        <select name="units" class="form-select" required>
          <option value="">Select Units</option>
          {% for unit in units_list %}
            <option value="{{ unit }}"
              {% if storage and storage.units == unit %}selected{% endif %}>
              {{ unit }}
            </option>
          {% endfor %}
        </select>
      </div>
      <button type="submit" class="btn btn-primary">{% if storage %}Update{% else %}Add{% endif %} Storage</button>
      <a href="{{ url_for('list_storage') }}" class="btn btn-secondary ms-2">Cancel</a>
    </form>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
